(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{257:function(s,n,t){"use strict";t.r(n);var a=t(17),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"应用部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应用部署"}},[s._v("#")]),s._v(" 应用部署")]),s._v(" "),t("h2",{attrs:{id:"mysql部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql部署"}},[s._v("#")]),s._v(" MySQL部署")]),s._v(" "),t("p",[s._v("案例：需求")]),s._v(" "),t("p",[t("code",[s._v("在Docker容器中部署MySQL，并通过外部mysql客户端操作MySQL Server")])]),s._v(" "),t("p",[s._v("案例：实现步骤")]),s._v(" "),t("p",[t("code",[s._v("1. 搜索镜像 2. 拉取镜像 3. 创建容器 4. 操作容器中的mysql")])]),s._v(" "),t("p",[s._v("遇到的问题：")]),s._v(" "),t("ul",[t("li",[s._v("容器内的网络服务和外部机器不能直接通信")]),s._v(" "),t("li",[s._v("外部机器和宿主机可以直接通信")]),s._v(" "),t("li",[s._v("宿主机和容器可以直接通信")])]),s._v(" "),t("p",[s._v("解决方案：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("当容器中的网络服务需要被外部机器访问时，可以将容器中提供服务的端口"),t("code",[s._v("映射")]),s._v("到宿主机的端口上。外部机器访问宿主机的该端口，从而间接访问容器的服务。")])]),s._v(" "),t("li",[s._v("这种操作称为："),t("code",[s._v("端口映射")])])]),s._v(" "),t("img",{attrs:{src:s.$withBase("/deploy.png")}}),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/mysql\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/mysql\n\ndocker run -id "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3307")]),s._v(":3306 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--name mysql_test "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/conf:/etc/mysql/conf.d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# linux系统中pwd命令为查看当前路径 这里的$PWD类似")]),s._v("\n-v "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/logs:/logs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/data:/var/lib/mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nmysql:version\n")])])]),t("h2",{attrs:{id:"nginx部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx部署"}},[s._v("#")]),s._v(" Nginx部署")]),s._v(" "),t("p",[s._v("案例：需求")]),s._v(" "),t("p",[t("code",[s._v("在Docker容器中部署Nginx，并通过外部机器访问Nginx")])]),s._v(" "),t("p",[s._v("案例：实现步骤")]),s._v(" "),t("p",[t("code",[s._v("1.搜索镜像 2.拉去镜像 3.创建容器 4.测试访问")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ~/nginx\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/nginx\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" conf\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在～/nginx/conf/下创建nginx.conf文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" nginx.conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建nginx容器...")]),s._v("\n")])])])])}),[],!1,null,null,null);n.default=e.exports}}]);