(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{255:function(t,e,s){"use strict";s.r(e);var a=s(17),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"初识-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初识-docker"}},[t._v("#")]),t._v(" 初识 Docker")]),t._v(" "),s("h2",{attrs:{id:"概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),s("ul",[s("li",[t._v("Docker是一个开源的应用容器引擎")]),t._v(" "),s("li",[t._v("诞生于2013年初，基于Go语言实现")]),t._v(" "),s("li",[t._v("Docker可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发不到任何流行的Linux机器上")]),t._v(" "),s("li",[t._v("容器是完全使用沙箱机制，相互隔离")]),t._v(" "),s("li",[t._v("容器性能开销极低")]),t._v(" "),s("li",[t._v("Docker从17.03版本后分为 "),s("code",[t._v("CE（社区版）")]),t._v("和 "),s("code",[t._v("EE（企业版）")])])]),t._v(" "),s("p",[s("strong",[t._v("Docker是一种容器技术，可解决软件跨环境迁移的问题。")])]),t._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("p",[t._v("在Linux上安装Docker")]),t._v(" "),s("p",[t._v("CentOS：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("先删除旧版本（如果没有可以跳过）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum remove docker "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                  docker-client "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                  docker-client-latest "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                  docker-common "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                  docker-latest "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                  docker-latest-logrotate "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                  docker-logrotate "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                  docker-engine\n")])])])]),t._v(" "),s("li",[s("p",[t._v("安装必须的依赖")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y yum-utils "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n       device-mapper-persistent-data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n       lvm2\n")])])]),s("p",[t._v("添加"),s("code",[t._v("stable")]),t._v("的Docker-ce的源：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum-config-manager "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --add-repo "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    https://download.docker.com/linux/centos/docker-ce.repo\n")])])])]),t._v(" "),s("li",[s("p",[t._v("安装docker-ce")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce docker-ce-cli containerd.io\n")])])])]),t._v(" "),s("li",[s("p",[t._v("选择指定的安装版本（可选）")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ yum list docker-ce --showduplicates "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -r\n\ndocker-ce.x86_64  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(":18.09.1-3.el7                     docker-ce-stable\ndocker-ce.x86_64  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(":18.09.0-3.el7                     docker-ce-stable\ndocker-ce.x86_64  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.06")]),t._v(".1.ce-3.el7                    docker-ce-stable\ndocker-ce.x86_64  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.06")]),t._v(".0.ce-3.el7                    docker-ce-stable\n\n")])])]),s("p",[t._v("比如要安装"),s("code",[t._v("3:18.09.1-3.el7")]),t._v("版本")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VERSION_STRING"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" docker-ce-cli-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("VERSION_STRING"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" containerd.io\n")])])]),s("p",[t._v("说明：")]),t._v(" "),s("p",[t._v("第一部分"),s("code",[t._v("docker-ce")]),t._v("，第二部分"),s("code",[t._v("18.09.1")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y docker-ce-18.09.1 docker-ce-cli-18.09.1\n")])])])]),t._v(" "),s("li",[s("p",[t._v("启动服务并测试一下")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动服务")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl start docker\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 来一个Hello World吧")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" docker run hello-world\nUnable to "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" image "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello-world:latest'")]),t._v(" locally\nlatest: Pulling from library/hello-world\n1b930d010525: Pull complete\nDigest: sha256:2557e3c07ed1e38f26e389462d03ed943586f744621577a99efb77324b0fe535\nStatus: Downloaded newer image "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" hello-world:latest\n\nHello from Docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". The Docker client contacted the Docker daemon.\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". The Docker daemon pulled the "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),t._v(" image from the Docker Hub.\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amd64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". The Docker daemon created a new container from that image "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" runs the\n    executable that produces the output you are currently reading.\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(". The Docker daemon streamed that output to the Docker client, "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" sent it\n    to your terminal.\n\nTo try something "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" ambitious, you can run an Ubuntu container with:\n$ docker run -it ubuntu "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n\nShare images, automate workflows, and "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" with a "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" Docker ID:\n https://hub.docker.com/\n\nFor "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" examples and ideas, visit:\n https://docs.docker.com/get-started/\n")])])]),s("p",[t._v("如果看到上面的提示，说明Docker安装成功并运行了。")])]),t._v(" "),s("li",[s("p",[t._v("关于升级&删除")]),t._v(" "),s("p",[t._v("升级：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新所有")]),t._v("\nyum -u update\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新指定")]),t._v("\nyum -y update docker-ce docker-ce-cli containerd.io\n")])])]),s("p",[t._v("删除：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum remove docker-ce\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除文件系统")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /var/lib/docker\n")])])])])]),t._v(" "),s("p",[t._v("更多安装方法：")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.toimc.com/docker%E5%85%A5%E9%97%A8%E4%B9%8B%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/#more",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker安装"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"架构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#架构"}},[t._v("#")]),t._v(" 架构")]),t._v(" "),s("img",{attrs:{src:t.$withBase("/docker1.png")}})])}),[],!1,null,null,null);e.default=n.exports}}]);